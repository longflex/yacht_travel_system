function DisableSpecificDates(e){var t=jQuery.datepicker.formatDate("dd-mm-yy",e);return[-1==disableddates.indexOf(t)]}function formatDate(e){var t=new Date(e),a=""+(t.getMonth()+1),s=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),s.length<2&&(s="0"+s),[r,a,s].join("-")}function formatDate1(e){return e=e.split("-"),e=e[1]+"-"+e[0]+"-"+e[2]}var LC=function(e){return{windowWidth:e(window).width(),windowHeight:e(window).height(),init:function(){var t=this;t.lc=0,t.bc=0,t.tc=0,t.brc=0,t.btc=0,t.adc=1,t.bindEvents(),t.bookingEvents(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&e("body").addClass("device")},bindEvents:function(){var t=this;e("#nextdate").click(function(a){var s=e(".start_time").val(),r=bkTime;if(""!=s){e("#finish-time").css({height:"",visibility:""}),e(".finishtime").html("Select Time"),e(".finish_time").val(""),e("#finish-time").html("");e(this).attr("data-time");t.fetchSelectedTimeAjax(s,r)}else e("#start-time").css({height:"",visibility:""}),e("#finish-time").css({height:"",visibility:""}),e(".starttime").html("Select Time"),e(".finishtime").html("Select Time"),e(".start_time").val(""),e(".finish_time").val(""),e("#finish-time").html("")}),e.autotab({tabOnSelect:!0}),e(".phone").length&&e(".phone").autotab("filter","phone"),e(window).load(function(){t.textImgheight(),e("ol li").each(function(){e(this).html("<span>"+e(this).html()+"</span>")}),e(".booth-slider").hasClass("booth-slider")&&e(".booth-slider").flexslider({animation:"slide",directionNav:!1,slideshow:!1,start:function(t){e("body").removeClass("loading")}})}),e(".video-icon").on("click",function(){e(this).hide(),e(this).next("iframe").attr("src",e(this).next("iframe").attr("src")+"&autoplay=1"),e(this).parent("li").addClass("play")}),e(".play-icon").on("click",function(){e(this).next("iframe").attr("src",e(this).next("iframe").attr("src")+"&autoplay=1"),e(this).parent(".video-block").addClass("play")}),e(".play-icon2").on("click",function(){e(this).next("iframe").attr("src",e(this).next("iframe").attr("src")+"&autoplay=1"),e(this).parent(".video-container").addClass("play")});var a;e(".menu-icon").on("click",function(){a=e(this).next(".mainmenu").height(),e(this).hasClass("open")?(e(this).removeClass("open"),e(this).next(".mainmenu").slideUp(300),e("header").animate({marginBottom:0},300)):(e(this).addClass("open"),e(this).next(".mainmenu").slideDown(300),e("header").animate({marginBottom:a},300))}),e(window).bind("load scroll",function(){e(window).scrollTop()>=e("header").height()+70?e("header").addClass("fixed"):e("header").removeClass("fixed")}),e(window).bind("load resize",function(){t.textImgheight(),e(window).width()>1036&&(e(".menu-icon").removeClass("open"),e(".mainmenu").removeAttr("style"),e("header").css("margin-bottom",0))}),e("body").hasClass("book-now")&&e(".register-popup").click(function(){window.onbeforeunload=null}),e("body").hasClass("book-now")&&e("#pay-purchase").click(function(){window.onbeforeunload=null,window.location="/checkout"}),e("body").click(function(t){e(t.target).closest(".modal-content").length||(e("#myModal-register").hide(),e("#myModal-login").hide(),e("#myModal-coupon").hide()),e(t.target).closest(".myBtn-register").length&&e("#myModal-register").show(),e(t.target).closest(".myBtn-login").length&&e("#myModal-login").show(),e(t.target).closest(".myBtn-coupon").length&&e("#myModal-coupon").show()}),e(document).on("click","body .closebtn",function(t){e("#myModal-register").hide(),e("#myModal-login").hide(),e("#myModal-coupon").hide()}),e(document).on("click","body .btn-register",function(t){e("#myModal-login").hide(),setTimeout(function(){e("#myModal-register").show()},300)})},textImgheight:function(){if(e(".lc-text").length){var t=e(".lc-text").outerHeight()+20;e(".lc-img").css("height",t+"px")}},bookingEvents:function(){var t=this,a=e(".tdate").val();e("#calendar").datepicker({inline:!0,firstDay:0,dateFormat:"dd-mm-yy",showOtherMonths:!1,minDate:a,beforeShowDay:DisableSpecificDates,dayNamesMin:["Sun","Mon","Tue","Wed","Thur","Fri","Sat"],onSelect:function(e){t.fetchSelectedDateAjax(e)}}).datepicker("setDate",a),e("#start-time li a").unbind("click").bind("click",function(){var a=e(this).attr("data-time"),s=bkTime;t.fetchSelectedTimeAjax(a,s),e("#start-time").css({height:"",visibility:""}),e(".starttime").html(e(this).text()),e(".start_time").val(a);var r=["January","February","March","April","May","June","July","August","September","October","November","December"],i=new Date(e(".booking_date").val()),o=r[i.getMonth()]+" "+i.getDate()+", "+i.getFullYear();e(".sum_start").html(e(this).text()+" - "+o)}),e(".starttime").click(function(){e("#start-time").css({height:"125px",visibility:"visible"}),e("#finish-time").css({height:"",visibility:""}),e("#finish-time").removeClass("error")}),e(".finishtime").click(function(){e("#finish-time").hasClass("error")?alert("Please select correct start time"):e("#finish-time ul").length?(e("#start-time").css({height:"",visibility:""}),e("#finish-time").css({height:"125px",visibility:"visible"})):alert("Please select start time")}),e(".booking-sec .nav a.pre-step").click(function(){var a=e(this).attr("data-step"),s=e(this).attr("class");t.bookingProcess(a,s)}),e("#step1 .nav a.next-step").click(function(){var a=e(".booking_date").val(),s=e(".start_time").val(),r=e(".finish_time").val(),i=e(this).attr("data-step");if(e("input[name=nextdate]").is(":checked"))if(""!=s&&""!=r){d=e(this).attr("class");e(".starttime").css("border","1px solid #e5e5e5"),e(".finishtime").css("border","1px solid #e5e5e5"),e("#3hour").css("color","#333333"),t.bookingProcess(i,d),e(".booking-right .time").val(e(".starttime").text()+"-"+e(".finishtime").text()),t.bookingStep1(a,s,r),e(".booking-right .time").val(e(".starttime").text()+"-"+e(".finishtime").text()),t.bookingStep1(a,s,r);var o=["January","February","March","April","May","June","July","August","September","October","November","December"],n=new Date(e(".booking_date").val()),l=o[n.getMonth()]+" "+(n.getDate()+1)+", "+n.getFullYear();e(".sum_finish").html(e(".finishtime").text()+" - "+l)}else e(".starttime").css("border","1px solid red"),e(".finishtime").css("border","1px solid red");else if(r-s>2){var d=e(this).attr("class");e(".starttime").css("border","1px solid #e5e5e5"),e(".finishtime").css("border","1px solid #e5e5e5"),t.bookingProcess(i,d),e(".booking-right .time").val(e(".starttime").text()+"-"+e(".finishtime").text()),t.bookingStep1(a,s,r);l=(o=["January","February","March","April","May","June","July","August","September","October","November","December"])[(n=new Date(e(".booking_date").val())).getMonth()]+" "+n.getDate()+", "+n.getFullYear();e(".sum_finish").html(e(".finishtime").text()+" - "+l)}else""===s&&""===r?(e(".starttime").css("border","1px solid red"),e(".finishtime").css("border","1px solid red")):(e(".starttime").css("border","1px solid red"),e(".finishtime").css("border","1px solid red"),e("#3hour").css("color","red"))}),e("#step2 .nav a.next-step").click(function(){var a=e(this).attr("data-step"),s=e(".t_price").val();if(""!=s&&s>1){var r=e(this).attr("class");t.bookingProcess(a,r)}else alert("Please select yacht")}),e("#step3 .nav a.next-step").click(function(){var a=e(this).attr("data-step"),s=e("#fname").val(),r=e("#lname").val(),i=e("#phone1").val(),o=e("#phone2").val(),n=e("#phone3").val(),l=e("#phone").val(i+o+n),d=jQuery("#phone").val(),c=validatePhone(d),p=e("#bookingrole").val(),b=e("#email1").val(),h=validateEmail(b),m=e("#other").val(),u=!1;if("Other"===p&&(u=""==m),""==e.trim(s)||""==e.trim(r)||""==e.trim(i)||""==e.trim(o)||""==e.trim(n)||""==e.trim(l)||""==e.trim(b)||""==e.trim(p)||0==h||0==c||!1!==u)return""===e.trim(e("#fname").val())?e("#fname").css("border","1px solid red"):e("#fname").css("border",""),""===e.trim(e("#lname").val())?e("#lname").css("border","1px solid red"):e("#lname").css("border",""),""===e.trim(e("#phone1").val())?e("#phone1").css("border","1px solid red"):e("#phone1").css("border",""),""===e.trim(e("#phone2").val())?e("#phone2").css("border","1px solid red"):e("#phone2").css("border",""),""===e.trim(e("#phone3").val())?e("#phone3").css("border","1px solid red"):e("#phone3").css("border",""),""===e.trim(e("#bookingrole").val())?e("#bookingrole").css("border","1px solid red"):e("#bookingrole").css("border",""),""===e.trim(e("#email1").val())?e("#email1").css("border","1px solid red"):""!=e.trim(e("#email1").val())?(e("#email1").css("border",""),!0===h?(e("#email1").css("border",""),e("#error").hide()):e("#email1").css("border","1px solid red")):e("#email1").css("border",""),""===e.trim(e("#phone").val())?(e("#phone1").css("border","1px solid red"),e("#phone2").css("border","1px solid red"),e("#phone3").css("border","1px solid red")):""!=e.trim(e("#phone").val())?(e("#phone1").css("border",""),e("#phone2").css("border",""),e("#phone3").css("border",""),!0===c?(e("#phone1").css("border",""),e("#phone2").css("border",""),e("#phone3").css("border","")):(e("#phone1").css("border","1px solid red"),e("#phone2").css("border","1px solid red"),e("#phone3").css("border","1px solid red"))):(e("#phone1").css("border",""),e("#phone2").css("border",""),e("#phone3").css("border","")),!0===u&&(""===e.trim(e("#other").val())?e("#other").css("border","1px solid red"):e("#other").css("border","")),!1;e("#fname,#lname,#phone1,#phone2,#phone3,#bookingrole,#email1,#other").css("border",""),e("#cname").val(e("#fname").val()+" "+e("#lname").val()),e("#cphone").val(e("#phone").val()),e("#email").val(e("#email1").val()),e(".lemail").val(e("#email1").val());var v=e(this).attr("class");e(".sum_organizer").html(e("#fname").val()+" "+e("#lname").val()),e(".sum_role").html(e("#bookingrole").val()),t.bookingProcess(a,v)}),e("#step4 .nav a.next-step").click(function(){var a=e(this).attr("data-step"),s=e("#eventtype").val(),r=e("#eventother").val(),i=e("#event_no_guest").val(),o=e("#event_no_adult").val(),n=e("#event_no_child").val(),l=validBooking(i),d=validBooking(o),c=validBooking(n),p=!1;if("Other"===s&&(""!=r?(e("#eventother").css("border",""),p=!1):p=!0),""!=e.trim(s)&&!1===p&&""!=e.trim(i)&&""!=e.trim(o)&&""!=e.trim(n)&&0!=l&&0!=d&&0!=c){var b=e(this).attr("class");e(".sum_event").html(e("#eventtype").val()),e(".sum_total-guest").html(e("#event_no_guest").val()+" Guests"),e(".sum_total-adult").html(e("#event_no_adult").val()+" Guests - Are 21 and Under"),t.bookingProcess(a,b)}else""===e.trim(e("#eventtype").val())?e("#eventtype").css("border","1px solid red"):e("#eventtype").css("border",""),!0===p&&(""===e.trim(e("#eventother").val())?e("#eventother").css("border","1px solid red"):e("#eventother").css("border",""));""===e.trim(e("#event_no_guest").val())?e("#event_no_guest").css("border","1px solid red"):""!=e.trim(e("#event_no_guest").val())?(e("#event_no_guest").css("border",""),!0===l?e("#event_no_guest").css("border",""):e("#event_no_guest").css("border","1px solid red")):e("#event_no_guest").css("border",""),""===e.trim(e("#event_no_adult").val())?e("#event_no_adult").css("border","1px solid red"):""!=e.trim(e("#event_no_adult").val())?(e("#event_no_adult").css("border",""),!0===d?e("#event_no_adult").css("border",""):e("#event_no_adult").css("border","1px solid red")):e("#event_no_adult").css("border",""),""===e.trim(e("#event_no_child").val())?e("#event_no_child").css("border","1px solid red"):""!=e.trim(e("#event_no_child").val())?(e("#event_no_child").css("border",""),!0===c?e("#event_no_child").css("border",""):e("#event_no_child").css("border","1px solid red")):e("#event_no_child").css("border","")}),e("#step5 .nav a.next-step").click(function(){e(".loc-error").html("");var a=e(this).attr("data-step");if(e('#step5 input[name^="locationsid"]').length){var s=e(this).attr("class");e("#lcerror2").html(""),e(".location").css("border","1px solid #d0d0d0"),e(".location-guests").css("border","1px solid #d0d0d0"),t.bookingProcess(a,s)}else e("#lcerror2").html("Please select at least one boarding location."),e(".location").css("border","1px solid red"),e(".location-guests").css("border","1px solid red")}),e("#step5 a.add-location").click(function(){e(".loc-error").html(""),e("#lcerror2").html(""),e(".location").css("border","1px solid #d0d0d0"),e(".location-guests").css("border","1px solid #d0d0d0");var a=e(this).parent().parent().find(".location").val(),s=e(this).parent().parent().find(".location-guests").val(),r=validBooking(s),i=e(this);if(""!=a&&""!=s&&s>0&&0!=r&&!e(this).hasClass("legacy-disable")){var o=!0;e('#step5 input[name^="locationsid"]').length&&e('#step5 input[name^="locationsid"]').each(function(){e(this).val()==a&&(e(i).parent().parent().find(".loc-error").html("This boarding location has already been selected."),e(i).parent().parent().find(".location").css("border","1px solid red"),o=!1)}),!0===o&&(e(this).attr("data-id",a),e(this).parent().addClass("added-locations"),e(this).removeClass("add-location"),e(this).addClass("legacy-disable"),e(this).parent().parent().find("input,select").attr("disabled",!0),t.bookingStep2(a,s,"add"),t.lc++)}else e(this).hasClass("legacy-disable")||(e(this).parent().parent().find(".loc-error").html("Please select boarding location and number of guests boarding"),e(this).parent().parent().find(".location").css("border","1px solid red"),e(this).parent().parent().find(".location-guests").css("border","1px solid red"))}),e("#step5 a.l_addmore").click(function(){if(e("#step5 .input-row").length){var t=e("#step5 .input-row:visible").length,a=e("#step5 .input-row").length;if(t<a){var s=e("#event_no_guest").val(),r=0;e("#step5 .added-locations").length&&(e("#step5 .location_qty").each(function(){r+=parseInt(e(this).val())}),r=parseInt(s)-parseInt(r));var i=t+1;e("#step5 .l"+i+" .location-guests").val(r),e("#step5 .l"+i).show(),i===a&&e(this).parent().remove()}else e(this).parent().remove()}}),e(document).on("click","#step5 a.remove-location",function(){var a=e(this),s=e(this).attr("data-id");""!=s&&e(".added-locations a").each(function(r){if(e(this).attr("data-id")===s){var i=a.parent().find(".location_qty").val();t.bookingStep2(s,i,"remove"),e(".sum_location ul li."+s).remove(),e(this).addClass("add-location"),e(this).removeClass("legacy-disable"),e(this).parent().parent().find("input,select").attr("disabled",!1),e(this).parent().parent().find(".location").val(e(".location option:first").val()),e(this).parent().parent().find(".location-guests").val(e(".location-guests option:first").val()),a.parent().remove(),t.lc=t.lc-1;var o=1;e("#step5 .cart-location label").each(function(t){e(this).html("Boarding Location "+o),o++}),e("#step6 .book-process #location-main,#step7 .book-process #location-main,#step8 .book-process #location-main").html(e("#step5 .book-process #location-main").html())}})}),e("#step6 .nav a.next-step").click(function(){e("#lcerror3").html(""),e(".bf-error").html(""),e(".tr-error").html(""),e(".buffets").css("border","1px solid #d0d0d0"),e(".trays").css("border","1px solid #d0d0d0"),e(".buffet-guests").css("border","1px solid #d0d0d0"),e(".tray-guests").css("border","1px solid #d0d0d0");var a=e(this).attr("data-step");if(e('#step6 input[name^="buffetid"]').length||e('#step6 input[name^="trayid"]').length){var s=e(this).attr("class");t.bookingProcess(a,s)}else e("#lcerror3").html("Please select specify buffet and/or your choice of food tray options."),e(".buffets").css("border","1px solid red"),e(".trays").css("border","1px solid red")}),e("#step6 a.add-buffet").click(function(){e(".bf-error").html(""),e("#lcerror3").html(""),e(".buffet-guests").css("border","1px solid #d0d0d0"),e(".buffets").css("border","1px solid #d0d0d0");var a=e(this).parent().parent().find(".buffets").val(),s=e(this).parent().parent().find(".buffet-guests").val(),r=validBooking(s),i=e(this);if(""!=a&&""!=s&&0!=r&&s>=13&&!e(this).hasClass("legacy-disable")){var o=!0;e('#step6 input[name^="buffetid"]').length&&e('#step6 input[name^="buffetid"]').each(function(){e(this).val()==a&&(e(i).parent().parent().find(".bf-error").html("This buffet option has already been selected."),e(i).parent().parent().find(".buffets").css("border","1px solid red"),l=!1,o=!1)}),!0===o&&(e(this).attr("data-id",a),e(this).parent().addClass("added-buffet"),e(this).removeClass("add-buffet"),e(this).addClass("legacy-disable"),e(this).parent().parent().find("input,select").attr("disabled",!0),e("#step6 .skip").hide(),t.bookingStep3(a,s,"add"),t.bc++)}else e(this).hasClass("legacy-disable")||(""!=a&&""!=s?!0===r?s<13&&(e(this).parent().parent().find(".bf-error").html("Minimum 13 guests allowed."),e(this).parent().parent().find(".buffet-guests").css("border","1px solid red")):(e(this).parent().parent().find(".bf-error").html("Please enter valid number of guests"),e(this).parent().parent().find(".buffet-guests").css("border","1px solid red")):(e(this).parent().parent().find(".bf-error").html("Please specify buffet option and number of guests before adding to the booking."),e(this).parent().parent().find(".buffets").css("border","1px solid red"),e(this).parent().parent().find(".buffet-guests").css("border","1px solid red")))}),e("#step6 a.b_addmore").click(function(){if(e("#step6 .buffet").length){var t=e("#step6 .buffet:visible").length,a=e("#step6 .buffet").length;if(t<a){var s=t+1;e("#step6 .b"+s).show(),s===a&&e(this).parent().remove()}else e(this).parent().remove()}}),e(document).on("click","#step6 a.remove-buffet",function(){var a=e(this),s=e(this).attr("data-id");""!=s&&(e(".added-buffet a").each(function(r){if(e(this).attr("data-id")===s){var i=a.parent().find(".buffet_qty").val();t.bookingStep3(s,i,"remove"),e(".summary_total_buffet span.sum_buffets span."+s).remove(),e(this).addClass("add-buffet"),e(this).removeClass("legacy-disable"),e(this).parent().parent().find("input,select").attr("disabled",!1),e(this).parent().parent().find(".buffets").val(e(".buffets option:first").val()),e(this).parent().parent().find(".buffet-guests").val(""),a.parent().remove(),t.bc=t.bc-1;var o=1;e("#step6 .cart-buffet label").each(function(t){e(this).html("Buffet Style "+o),o++}),e("#step5 .book-process #buffet-main,#step7 .book-process #buffet-main,#step8 .book-process #buffet-main").html(e("#step6 .book-process #buffet-main").html())}}),0!==e("#step6 a.remove-buffet").length&&0!==e("#step6 a.remove-tray").length||e("#step6 .skip").css("display","inline-block"))}),e("#step6 a.add-tray").click(function(){e("#lcerror3").html(""),e(".tr-error").html(""),e(".trays").css("border","1px solid #d0d0d0"),e(".tray-guests").css("border","1px solid #d0d0d0");var a=e(this).parent().parent().find(".trays").val(),s=e(this).parent().parent().find(".tray-guests").val(),r=validBooking(s),i=e(this);if(""==a||""==s||0==r||e(this).hasClass("legacy-disable"))e(this).hasClass("legacy-disable")||(""!=a&&""!=s?!1===r&&(e(this).parent().parent().find(".tr-error").html("Please enter valid no. of trays."),e(this).parent().parent().find(".tray-guests").css("border","1px solid red")):(e(this).parent().parent().find(".tr-error").html("Please specify your choice of food tray and number of trays before adding to the booking."),e(this).parent().parent().find(".trays").css("border","1px solid red"),e(this).parent().parent().find(".tray-guests").css("border","1px solid red")));else{var o=!0;e('#step6 input[name^="trayid"]').length&&e('#step6 input[name^="trayid"]').each(function(){e(this).val()==a&&(e(i).parent().parent().find(".tr-error").html("This tray option has already been selected."),e(i).parent().parent().find(".trays").css("border","1px solid red"),o=!1)}),!0===o&&(e(this).attr("data-id",a),e(this).parent().addClass("added-tray"),e(this).removeClass("add-tray"),e(this).addClass("legacy-disable"),e(this).parent().parent().find("input,select").attr("disabled",!0),e("#step6 .skip").hide(),t.bookingStep4(a,s,"add"),t.tc++)}}),e("#step6 a.t_addmore").click(function(){if(e("#step6 .tray").length){var t=e("#step6 .tray:visible").length,a=e("#step6 .tray").length;if(t<a){var s=t+1;e("#step6 .t"+s).show(),s===a&&e(this).parent().remove()}else e(this).parent().remove()}}),e(document).on("click","#step6 a.remove-tray",function(){var a=e(this),s=e(this).attr("data-id");""!=s&&(e(".added-tray a").each(function(r){if(e(this).attr("data-id")===s){var i=a.parent().find(".tray_qty").val();t.bookingStep4(s,i,"remove"),e(".summary_total_tray span.sum_trays span."+currentBId).remove(),e(this).addClass("add-tray"),e(this).removeClass("legacy-disable"),e(this).parent().parent().find("input,select").attr("disabled",!1),e(this).parent().parent().find(".trays").val(e(".trays option:first").val()),e(this).parent().parent().find(".tray-guests").val(""),a.parent().remove(),t.tc=t.tc-1;var o=1;e("#step6 .cart-tray label").each(function(t){e(this).html("Trays "+o),o++}),e("#step5 .book-process #tray-main,#step7 .book-process #tray-main,#step8 .book-process #tray-main").html(e("#step6 .book-process #tray-main").html())}}),0!==e("#step6 a.remove-buffet").length&&0!==e("#step6 a.remove-tray").length||e("#step6 .skip").css("display","inline-block"))}),e("#step7 .nav a.next-step").click(function(){e("#lcerror4").html(""),e(".br-error").html(""),e(".bt-error").html(""),e(".bars").css("border","1px solid #d0d0d0"),e(".bottles").css("border","1px solid #d0d0d0"),e(".bar-guests").css("border","1px solid #d0d0d0"),e(".bottle-guests").css("border","1px solid #d0d0d0");var a=e(this).attr("data-step");if(e('#step7 input[name^="barid"]').length||e('#step7 input[name^="bottleid"]').length){var s=e(this).attr("class");t.bookingProcess(a,s)}else e("#lcerror4").html("Please select your choice of hosted bar and/or bottle service option."),e(".bars").css("border","1px solid red"),e(".bottles").css("border","1px solid red")}),e("#step7 a.add-bar").click(function(){e("#lcerror4").html(""),e(".br-error").html(""),e(".bars").css("border","1px solid #d0d0d0"),e(".bottles").css("border","1px solid #d0d0d0"),e(".bar-guests").css("border","1px solid #d0d0d0");var a=e(this).parent().parent().find(".bars").val(),s=e(this).parent().parent().find(".bar-guests").val(),r=validBooking(s),i=e(this);if(""!=a&&""!=s&&0!=r&&s>=12&&!e(this).hasClass("legacy-disable")){var o=!0;e('#step7 input[name^="barid"]').length&&e('#step7 input[name^="barid"]').each(function(){e(this).val()==a&&(e(i).parent().parent().find(".br-error").html("This Bar option has already been selected."),e(i).parent().parent().find(".bars").css("border","1px solid red"),o=!1)}),!0===o&&(e(this).attr("data-id",a),e(this).parent().addClass("added-bar"),e(this).removeClass("add-bar"),e(this).addClass("legacy-disable"),e(this).parent().parent().find("input,select").attr("disabled",!0),e("#step7 .skip").hide(),t.bookingStep5(a,s,"add"),t.brc++)}else e(this).hasClass("legacy-disable")||(""!=a&&""!=s?!0===r?s<12&&(e(this).parent().parent().find(".br-error").html("Minimum 12 guests allowed."),e(this).parent().parent().find(".bar-guests").css("border","1px solid red")):(e(this).parent().parent().find(".br-error").html("Please enter valid number of guests."),e(this).parent().parent().find(".bar-guests").css("border","1px solid red")):(e(this).parent().parent().find(".br-error").html("Please select your choice of hosted bar and number of guests being served, before adding to the booking."),e(this).parent().parent().find(".bars").css("border","1px solid red"),e(this).parent().parent().find(".bottles").css("border","1px solid red")))}),e("#step7 a.br_addmore").click(function(){if(e("#step7 .bar").length){var t=e("#step7 .bar:visible").length,a=e("#step7 .bar").length;if(t<a){var s=t+1;e("#step7 .br"+s).show(),s===a&&e(this).parent().remove()}else e(this).parent().remove()}}),e(document).on("click","#step7 a.remove-bar",function(){var a=e(this),s=e(this).attr("data-id");""!=s&&(1===e("#step7 a.remove-bar").length&&e(".bartender input").attr("disabled",!1),e(".added-bar a").each(function(r){if(e(this).attr("data-id")===s){var i=a.parent().find(".bar_qty").val();t.bookingStep5(s,i,"remove"),(".summary_total_bar span.sum_bars span."+currentBtId).remove(),e(this).addClass("add-bar"),e(this).removeClass("legacy-disable"),e(this).parent().parent().find("input,select").attr("disabled",!1),e(this).parent().parent().find(".bars").val(e(".bars option:first").val()),e(this).parent().parent().find(".bar-guests").val(""),a.parent().remove(),t.brc=t.brc-1;var o=1;e("#step7 .cart-bar label").each(function(t){e(this).html("Bars "+o),o++}),e("#step5 .book-process #bar-main,#step6 .book-process #bar-main,#step8 .book-process #bar-main").html(e("#step7 .book-process #bar-main").html())}}),0!==e("#step7 a.remove-bar").length&&0!==e("#step7 a.remove-bottle").length||e("#step7 .skip").css("display","inline-block"))}),e("#step7 a.add-bottle").click(function(){e("#lcerror4").html(""),e(".bt-error").html(""),e(".bottles").css("border","1px solid #d0d0d0"),e(".bottle-guests").css("border","1px solid #d0d0d0");var a=e(this).parent().parent().find(".bottles").val(),s=e(this).parent().parent().find(".bottle-guests").val(),r=validBooking(s);if(""==a||""==s||0==s||e(this).hasClass("legacy-disable"))e(this).hasClass("legacy-disable")||(""!=a&&""!=s?!1===r&&(e(this).parent().parent().find(".bt-error").html("Please enter valid number of bottles."),e(this).parent().parent().find(".bottle-guests").css("border","1px solid red")):(e(this).parent().parent().find(".bt-error").html("Please select your choice of bottle service and number of bottles, before adding to the booking."),e(this).parent().parent().find(".bottles").css("border","1px solid red"),e(this).parent().parent().find(".bottle-guests").css("border","1px solid red")));else{var i=!0;e('#step7 input[name^="bottleid"]').length&&e('#step7 input[name^="bottleid"]').each(function(){e(this).val()==a&&(e(this).parent().parent().find(".bt-error").html("This Bottle option has already been selected."),e(this).parent().parent().find(".bottles").css("border","1px solid red"),i=!1)}),!0===i&&(e(this).attr("data-id",a),e(this).parent().addClass("added-bottle"),e(this).removeClass("add-bottle"),e(this).addClass("legacy-disable"),e(this).parent().parent().find("input,select").attr("disabled",!0),e("#step7 .skip").hide(),t.bookingStep6(a,s,"add"),t.btc++)}}),e("#step7 a.bt_addmore").click(function(){if(e("#step7 .bottle").length){var t=e("#step7 .bottle:visible").length,a=e("#step7 .bottle").length;if(t<a){var s=t+1;e("#step7 .bt"+s).show(),s===a&&e(this).parent().remove()}else e(this).parent().remove()}}),e(document).on("click","#step7 a.remove-bottle",function(){var a=e(this),s=e(this).attr("data-id");""!=s&&(e(".added-bottle a").each(function(r){if(e(this).attr("data-id")===s){var i=a.parent().find(".bottle_qty").val();t.bookingStep6(s,i,"remove"),e(".summary_total_bottle span.sum_bottles span."+s).remove(),e(this).addClass("add-bottle"),e(this).removeClass("legacy-disable"),e(this).parent().parent().find("input,select").attr("disabled",!1),e(this).parent().parent().find(".bottles").val(e(".bottles option:first").val()),e(this).parent().parent().find(".bottle-guests").val(""),a.parent().remove(),t.btc=t.btc-1;var o=1;e("#step7 .cart-bottle label").each(function(t){e(this).html("Bottles "+o),o++}),e("#step5 .book-process #bottle-main, #step6 .book-process #bottle-main, #step8 .book-process #bottle-main").html(e("#step7 .book-process #bottle-main").html())}}),0!==e("#step7 a.remove-bar").length&&0!==e("#step7 a.remove-bottle").length||e("#step7 .skip").css("display","inline-block"))}),e("#step8 .nav a.next-step").click(function(){e("#lcerror5").html(""),e(".ad-error").html(""),e(".addons").css("border","1px solid #d0d0d0"),e(".addon-guests").css("border","1px solid #d0d0d0");var a=e(this).attr("data-step");if(e('#step8 input[name^="addonid"]').length){var s=e(this).attr("class");t.bookingProcess(a,s)}else e("#lcerror5").html("Please select your choice of entertainment."),e(".addons").css("border","1px solid red")}),e("#step8 a.add-addon").click(function(){e("#lcerror5").html(""),e(".ad-error").html(""),e(".addons").css("border","1px solid #d0d0d0"),e(".addon-guests").css("border","1px solid #d0d0d0");var a=e(this).parent().parent().find(".addons").val(),s=e(this).parent().parent().find(".addon-guests").val(),r=e(this);if(""==a||""==s||e(this).hasClass("legacy-disable"))e(this).hasClass("legacy-disable")||(e(this).parent().parent().find(".ad-error").html("Please select your choice of entertainment and times, before adding to the booking."),e(this).parent().parent().find(".addons").css("border","1px solid red"),e(this).parent().parent().find(".addon-guests").css("border","1px solid red"));else{var i=!0;e('#step8 input[name^="addonid"]').length&&e('#step8 input[name^="addonid"]').each(function(){e(this).val()==a&&(e(r).parent().parent().find(".ad-error").html("This entertainment choice has already been selected."),e(r).parent().parent().find(".addons").css("border","1px solid red"),i=!1)}),!0===i&&(e(this).attr("data-id",a),e(this).parent().addClass("added-addon"),e(this).removeClass("add-addon"),e(this).addClass("legacy-disable"),e(this).parent().parent().find("select").attr("disabled",!0),e("#step8 .skip").hide(),t.bookingStep7(a,s,"add"),t.adc++)}}),e("#step8 a.ad_addmore").click(function(){if(e("#step8 .addon").length){var t=e("#step8 .addon:visible").length,a=e("#step8 .addon").length;if(t<a){var s=t+1;e("#step8 .ad"+s).show(),s===a&&e(this).parent().remove()}else e(this).parent().remove()}}),e(document).on("click","#step8 a.remove-addon",function(){var a=e(this),s=e(this).attr("data-id");""!=s&&(e(".added-addon a").each(function(r){if(e(this).attr("data-id")===s){var i=a.parent().find(".addon_qty").val();t.bookingStep7(s,i,"remove"),e(".summary_total_addon span."+s).remove(),e(this).addClass("add-addon"),e(this).removeClass("legacy-disable"),e(this).parent().parent().find("select").attr("disabled",!1),e(this).parent().parent().find(".addons").val(e(".addons option:first").val()),e(this).parent().parent().find(".addon-guests").val(e(".addon-guests option:first").val()),a.parent().remove(),t.adc=t.adc-1;var o=1;e("#step8 .cart-addon label").each(function(t){e(this).html("Addons "+o),o++}),e("#step5 .book-process #addon-main,#step6 .book-process #addon-main,#step7 .book-process #addon-main").html(e("#step8 .book-process #addon-main").html())}}),0===e("#step8 a.remove-addon").length&&e("#step8 .skip").css("display","inline-block"))}),e("#step8 select.addons").on("change",function(){var t=e(this).val(),a=e(this).attr("id");""!=t&&e.ajax({url:"/fatch-addons",dataType:"json",type:"POST",async:!1,data:{sAddon:t},success:function(t){1===t.status&&e("#"+a).parent().parent().find("select.addon-guests").html('<option value="" selected="selected">-- SELECT --</option><option value="half">HALF DAY $'+t.sAddonH+'</option><option value="full">Full DAY $'+t.sAddonF+"</option>")}})}),e("#myModal-coupon #redeem").on("click",function(){var t=e("#couponcode").val();""!=t&&e.ajax({url:"/coupon-redeem",dataType:"json",type:"POST",async:!1,data:{cCode:t},success:function(t){1===t.status&&(e("#couponmsg").html(t.msg),""!=t.stotal&&e(".sub-total").html("$"+t.stotal),""!=t.total&&e(".total").html("Total: <strong>$"+t.total+"</strong>"),""!=t.save&&(e(".total-saving").show(),e(".total-save").html("$"+t.save)),""!=t.tax&&e(".taxamount").html("$"+t.tax+"(%"+t.taxper+")"),setTimeout(function(){e("#myModal-coupon").hide()},1e3))}})}),e("#complete-purchase").on("click",function(){if(e("input[name=paymethods]").is(":checked")&&"paylater"!=e("input[name=paymethods]:checked").val())if(e("input[name=paymentOption]").is(":checked")){var a=e("input[name=paymentOption]:checked").val();t.payCheckoutLegacy(a)}else alert("Please select at least one payment option");else"paylater"===e("input[name=paymethods]:checked").val()?document.getElementById("paymethods-form").submit():alert("Please select at least one payment option")}),e(".complete-log").on("click",function(){alert("Please register/sigin to complete puchase")}),e(document).on("click",".skip",function(){var a=e(this).attr("data-step"),s=e(this).attr("data-cstep");t.bookingSkip(a,s)}),e(document).on("click",".enable",function(){e(".booking-sec .container").addClass("legacy-main");var t=e(this).attr("data-step");setTimeout(function(){e("#step1").css({display:"none"}),e(".steps").css({display:"none"}),e(".booking-menu ul li").removeClass("active"),e("#"+t).css({display:"block"}),e("."+t).addClass("active"),e(".booking-sec .container").removeClass("legacy-main")},1e3)})},fetchSelectedDateAjax:function(t){e("#nextdate").attr("checked",!1);var a=this;e.ajax({url:"/fetch-date",type:"POST",data:{sdate:t},dataType:"json",async:!1,success:function(s){if(1!==s.status)return confirm("Are you sure do you want to booking date?")&&location.reload(),!1;e(".booking-right .date").val(formatDate1(t)),ndate=t.split("-"),ndate=ndate[2]+"-"+ndate[1]+"-"+ndate[0],e(".booking_date").val(ndate),e("#start-time").css({height:"",visibility:""}),e("#finish-time").css({height:"",visibility:""}),e(".starttime").html("Select Time"),e(".finishtime").html("Select Time"),e("#start-time").html(s.bTime),e("#finish-time").html(""),e(".start_time").val(""),e(".finish_time").val("");var r=s.bkTime;""!=s.bTime&&(r=s.bkTime.split(","),e.each(r,function(e){r[e]})),e("#start-time li a").unbind("click").bind("click",function(){var t=e(this).attr("data-time");a.fetchSelectedTimeAjax(t,r),e("#start-time").css({height:"",visibility:""}),e(".starttime").html(e(this).text()),e(".start_time").val(t);var s=["January","February","March","April","May","June","July","August","September","October","November","December"],i=new Date(e(".booking_date").val()),o=s[i.getMonth()]+" "+i.getDate()+", "+i.getFullYear();e(".sum_start").html(e(this).text()+" - "+o)})}})},fetchSelectedTimeAjax:function(t,a){var s=e("#nextdate").val();s=e("#nextdate").is(":checked")?"Yes":"No",""==a[0]&&(a=[]),s&&e.ajax({url:"/avail-times",dataType:"json",type:"POST",async:!1,data:{stime:t,btime:a,nextDay:s},success:function(t){1===t.status?(e("#finish-time").html(t.fTimes),e("#finish-time").css({height:"125px",visibility:"visible"}),e(document).on("click","#finish-time li a",function(){e(".finishtime").html(e(this).text()),e(".finish_time").val(e(this).attr("data-time")),e("#finish-time").css({height:"",visibility:""})})):5!==t.status&&4!==t.status&&3!==t.status||(e("#finish-time").css({height:"",visibility:""}),e(".finishtime").html("Select Time"),e("#finish-time").html(""),e("#finish-time").addClass("error"),alert("Error! This Time Slot not available. please booking with any other date/time slot."))}})},bookingProcess:function(t,a){if("step5"===t){var s=parseInt(e("#event_no_guest").val()),r=e("#event_no_adult").val(),i=e("#event_no_child").val(),o=parseInt(r)+parseInt(i);if(s<121){if(o>s)return setTimeout(function(){e("#event_no_adult").css("border","1px solid red"),e("#event_no_child").css("border","1px solid red"),e("#eventtype").css("border",""),e("#lcerror1").html("The number of adults and children exceeds the total number of guests."),e("#event_no_guest").css("border","")},100),!1;e("#event_no_guest").css("border",""),e("#event_no_adult").css("border",""),e("#event_no_child").css("border",""),e("#lcerror1").html("")}else{if(s>120)return setTimeout(function(){e("#lcerror1").html("Maximum 120 guests are allowed in the yacht."),e("#event_no_guest").css("border","1px solid red"),e("#event_no_adult").css("border",""),e("#event_no_child").css("border","")},100),!1;e("#lcerror1").html(""),e("#event_no_guest").css("border","1px solid red"),e("#event_no_adult").css("border",""),e("#event_no_child").css("border","")}}if("step6"===t){var s=e(".eguest").val(),n=0;if(e("#step5 .location_qty").each(function(){n+=parseInt(e(this).val())}),n>s)return e("#lcerror2").html("The number of guests boarding exceeds the total number of guests for the event."),e(".location").css("border","1px solid red"),e(".location-guests").css("border","1px solid red"),e(".loc-error").html(""),!1;e("#lcerror2").html(""),e(".loc-error").html(""),e(".location").css("border","1px solid #d0d0d0"),e(".location-guests").css("border","1px solid #d0d0d0")}if(e(".booking-sec .container").addClass("legacy-main"),"step5"===t){var l=e("#eventtype").val(),d=e("#event_no_guest").val();e(".book-process ul #event-main").html('<li class="cart-event"><label>Event Type : </label><input type="text" name="eventype" value="'+l+'" disabled><input type="hidden" id="eventguests" name="eventguests" value="'+d+'" disabled></li><li class="cart-event"><label>Total No. of Guests : </label> <input type="text" id="eventguests" name="eventtotal" value="'+d+' Guests" disabled></li>'),e(".eguest").val(d)}if("step8"===t&&"next-step"===a){var c=e(".bartender input:checked").val(),p=0,b=0;e("#step7 .bar_qty").each(function(){p+=parseInt(e(this).val())}),b=p>50&&p<101?2:p>100?3:1,e.ajax({url:"/fetch-bartender",dataType:"json",async:!1,type:"POST",data:{action:"next",bartender:c,bartenderqty:b},success:function(t){1===t.status&&(e(".t_price").val(t.stotal),e(".sub-total").html("$"+t.stotal),e(".total").html("Total: <strong>$"+t.stotal+"</strong>"))}})}if("step9"===t){e(".sum_buffets span").length>0?e(".sum_buffets div.sskip").remove():e(".sum_buffets div").html('<div class="sskip">Skip</div>'),e(".sum_trays span").length>0?e(".sum_trays div.sskip").remove():e(".sum_trays div").html('<div class="sskip">Skip</div>'),e(".sum_bars span").length>0?e(".sum_bars div.sskip").remove():e(".sum_bars div").html('<div class="sskip">Skip</div>'),e(".sum_bottles span").length>0?e(".sum_bottles div.sskip").remove():e(".sum_bottles div").html('<div class="sskip">Skip</div>'),e(".summary_total_addon span").length>0?e(".summary_total_addon div.sskip").remove():e(".summary_total_addon div").html('<div class="sskip">Skip</div>');var h=[{fname:e("#fname").val(),lname:e("#lname").val(),phone:e("#phone").val(),email:e("#email1").val(),booking_role:e("#bookingrole").val(),other:e("#other").val(),booking_special_request:e("#booking_special_request").val(),event_type:e("#eventtype").val(),event_other:e("#eventother").val(),event_no_guest:e("#event_no_guest").val(),event_no_adult:r=e("#event_no_adult").val(),event_no_child:i=e("#event_no_child").val(),event_special_request:e("#event_special_request").val(),food_special_detail:e("#food_special_detail").val(),beverage_special_detail:e("#beverage_special_detail").val(),addons_special_detail:e("#addons_special_detail").val()}],h=JSON.stringify(h);e.ajax({url:"/store-booking",dataType:"json",async:!1,type:"POST",data:{status:"N",bData:h},success:function(t){1===t.status&&(""!=t.tax&&(console.log(e(".taxamount").length),e(".taxamount").html("$"+t.tax+"(%"+t.taxper+")")),""!=t.total&&e(".total").html("Total: <strong>$"+t.total+"</strong>"))}})}setTimeout(function(){e("#step1").css({display:"none"}),e(".steps").css({display:"none"}),e(".booking-menu ul li").removeClass("active"),e("#"+t).css({display:"block"}),e("."+t).addClass("active"),e("."+t+" a").addClass("enable"),e(".booking-sec .container").removeClass("legacy-main")},1e3)},bookingSkip:function(t,a){""!=t&&""!=a&&(e(".booking-sec .container").addClass("legacy-main"),e.ajax({url:"/skip-booking",dataType:"json",async:!1,type:"POST",data:{cstep:a},success:function(a){1===a.status&&setTimeout(function(){if("step8"===t){var a=e(".bartender input:checked").val();e.ajax({url:"/fetch-bartender",dataType:"json",async:!1,type:"POST",data:{action:"skip",bartender:a},success:function(t){1===t.status&&(e(".t_price").val(t.stotal),e(".sub-total").html("$"+t.stotal),e(".total").html("Total: <strong>$"+t.stotal+"</strong>"))}})}if("step9"===t){e(".sum_buffets span").length>0?e(".sum_buffets div.sskip").remove():e(".sum_buffets div").html('<div class="sskip">Skip</div>'),e(".sum_trays span").length>0?e(".sum_trays div.sskip").remove():e(".sum_trays div").html('<div class="sskip">Skip</div>'),e(".sum_bars span").length>0?e(".sum_bars div.sskip").remove():e(".sum_bars div").html('<div class="sskip">Skip</div>'),e(".sum_bottles span").length>0?e(".sum_bottles div.sskip").remove():e(".sum_bottles div").html('<div class="sskip">Skip</div>'),e(".summary_total_addon span").length>0?e(".summary_total_addon div.sskip").remove():e(".summary_total_addon div").html('<div class="sskip">Skip</div>');var s=[{fname:e("#fname").val(),lname:e("#lname").val(),phone:e("#phone").val(),email:e("#email1").val(),booking_role:e("#bookingrole").val(),other:e("#other").val(),booking_special_request:e("#booking_special_request").val(),event_type:e("#eventtype").val(),event_other:e("#eventother").val(),event_no_guest:e("#event_no_guest").val(),event_no_adult:e("#event_no_adult").val(),event_no_child:e("#event_no_child").val(),event_special_request:e("#event_special_request").val(),food_special_detail:e("#food_special_detail").val(),beverage_special_detail:e("#beverage_special_detail").val(),addons_special_detail:e("#addons_special_detail").val()}],s=JSON.stringify(s);e.ajax({url:"/store-booking",dataType:"json",async:!1,type:"POST",data:{status:"N",bData:s},success:function(t){1===t.status&&(""!=t.tax&&(console.log(e(".taxamount").length),e(".taxamount").html("$"+t.tax+"(%"+t.taxper+")")),""!=t.total&&e(".total").html("Total: <strong>$"+t.total+"</strong>"))}})}e(".steps").css({display:"none"}),e(".booking-menu ul li").removeClass("active"),e("#"+t).css({display:"block"}),e("."+t).addClass("active"),e(".booking-sec .container").removeClass("legacy-main")},1e3)}}))},bookingStep1:function(t,a,s){window.onbeforeunload=function(){return"Are you sure you want to reset current booking?"};var r=e(".starttime").text()+"-"+e(".finishtime").text();e.ajax({url:"/book-step1",dataType:"json",type:"POST",data:{bdate:t,stime:a,ftime:s,timehtml:r},success:function(t){1===t.status&&(e(".t_price").val(t.totalprice),e(".sub-total").html("$"+t.totalprice),e(".total").html("Total: <strong>$"+t.totalprice+"</strong>"))}})},bookingStep2:function(t,a,s){var r=this;e.ajax({url:"/book-step2",dataType:"json",type:"POST",data:{sl:t,slQ:a,status:s},beforeSend:function(){e(".booking-sec .container").addClass("legacy-main")},success:function(t){1===t.status&&("add"===t.action?(e(".t_price").val(t.lprice),e(".sub-total").html("$"+t.lprice),e(".total").html("Total: <strong>$"+t.lprice+"</strong>"),e(".book-process ul #location-main").append('<li class="cart-location"><label>Boarding Location '+r.lc+' : </label><input type="text" name="location_name['+t.lid+']" value="'+t.lname+'" disabled><input type="hidden" name="locationsid['+t.lid+']" value="'+t.lid+'" disabled><input type="hidden" name="locations_qty['+t.lid+']" value="'+t.lqty+'" class="location_qty" disabled><a href="javascript:void(0);"  data-id="'+t.lid+'" class="remove-location">Remove</a></li>'),e(".sum_location ul").append('<li class="'+t.lid+'"><label>Boarding Location '+r.lc+" : </label> "+t.lname+" </li>"),setTimeout(function(){e(".booking-sec .container").removeClass("legacy-main")},1e3)):(e(".t_price").val(t.lprice),e(".sub-total").html("$"+t.lprice),e(".total").html("Total: <strong>$"+t.lprice+"</strong>"),setTimeout(function(){e(".booking-sec .container").removeClass("legacy-main")},1e3)))}})},bookingStep3:function(t,a,s){var r=this;e.ajax({url:"/book-step3",dataType:"json",type:"POST",data:{sb:t,sbQ:a,status:s},beforeSend:function(){e(".booking-sec .container").addClass("legacy-main")},success:function(t){1===t.status&&("add"===t.action?(e(".t_price").val(t.bprice),e(".sub-total").html("$"+t.bprice),e(".total").html("Total: <strong>$"+t.bprice+"</strong>"),e(".book-process ul #buffet-main").append('<li class="cart-buffet"><label>Buffet Style '+r.bc+' : </label><input type="text" name="buffet_name['+t.bid+']" value="'+t.bname+'" disabled><label>Number of Guests : </label><input type="text" name="buffet_qty['+t.bid+']" value="'+t.bqty+' Guests" disabled><input type="hidden" name="buffetid['+t.bid+']" value="'+t.bid+'" disabled><input type="hidden" name="buffets_qty['+t.bid+']" value="'+t.bqty+'" class="buffet_qty" disabled><a href="javascript:void(0);"  data-id="'+t.bid+'" class="remove-buffet">Remove</a></li>'),e(".summary_total_buffet span.sum_buffets").append('<span class="'+t.bid+'">Buffet Style : '+t.bname+" "+t.bqty+" Guests </span>"),setTimeout(function(){e(".booking-sec .container").removeClass("legacy-main")},1e3)):(e(".t_price").val(t.bprice),e(".sub-total").html("$"+t.bprice),e(".total").html("Total: <strong>$"+t.bprice+"</strong>"),setTimeout(function(){e(".booking-sec .container").removeClass("legacy-main")},1e3)))}})},bookingStep4:function(t,a,s){var r=this;e.ajax({url:"/book-step4",dataType:"json",type:"POST",data:{st:t,stQ:a,status:s},beforeSend:function(){e(".booking-sec .container").addClass("legacy-main")},success:function(t){1===t.status&&("add"===t.action?(e(".t_price").val(t.tprice),e(".sub-total").html("$"+t.tprice),e(".total").html("Total: <strong>$"+t.tprice+"</strong>"),e(".book-process ul #tray-main").append('<li class="cart-tray"><label>Trays '+r.tc+' : </label><input type="text" name="tray_name['+t.tid+']" value="'+t.tname+'" disabled><label>Number of Trays : </label><input type="text" name="tray_qty['+t.tid+']" value="'+t.tqty+' Trays" disabled><input type="hidden" name="trayid['+t.tid+']" value="'+t.tid+'" disabled><input type="hidden" name="trays_qty['+t.tid+']" value="'+t.tqty+'" class="tray_qty" disabled><a href="javascript:void(0);"  data-id="'+t.tid+'" class="remove-tray">Remove</a></li>'),e(".summary_total_tray span.sum_trays").append('<span class="'+t.tid+'">Trays : '+t.tname+" "+t.tqty+" Trays </span>"),setTimeout(function(){e(".booking-sec .container").removeClass("legacy-main")},1e3)):(e(".t_price").val(t.tprice),e(".sub-total").html("$"+t.tprice),e(".total").html("Total: <strong>$"+t.tprice+"</strong>"),setTimeout(function(){e(".booking-sec .container").removeClass("legacy-main")},1e3)))}})},bookingStep5:function(t,a,s){var r=this,i=e(".bartender input:checked").val();e.ajax({url:"/book-step5",dataType:"json",type:"POST",data:{sbr:t,sbrQ:a,bartender:i,status:s},beforeSend:function(){e(".booking-sec .container").addClass("legacy-main")},success:function(t){if(1===t.status){"add"===t.action?(e(".t_price").val(t.brprice),e(".bartender input").attr("disabled",!0),e(".sub-total").html("$"+t.brprice),e(".total").html("Total: <strong>$"+t.brprice+"</strong>"),e(".book-process ul #bar-main").append('<li class="cart-bar"><label>Bars '+r.brc+' : </label><input type="text" name="bar_name['+t.brid+']" value="'+t.brname+'" disabled><label>Number of Guests : </label><input type="text" name="bar_qty['+t.brid+']" value="'+t.brqty+' Guests" disabled><input type="hidden" name="barid['+t.brid+']" value="'+t.brid+'" disabled><input type="hidden" name="bars_qty['+t.brid+']" value="'+t.brqty+'" class="bar_qty" disabled><a href="javascript:void(0);"  data-id="'+t.brid+'" class="remove-bar">Remove</a></li>'),e(".summary_total_bar span.sum_bars").append('<span class="'+t.brid+'">Hosted Bar : '+t.brname+" "+t.brqty+" Guests </span>"),setTimeout(function(){e(".booking-sec .container").removeClass("legacy-main")},1e3)):(e(".t_price").val(t.brprice),e(".sub-total").html("$"+t.brprice),e(".total").html("Total: <strong>$"+t.brprice+"</strong>"),setTimeout(function(){e(".booking-sec .container").removeClass("legacy-main")},1e3));var a=0,s=0;e("#step7 .bar_qty").length?(e("#step7 .bar_qty").each(function(){a+=parseInt(e(this).val())}),e("#step7 .bar_qty").each(function(){a+=parseInt(e(this).val())}),s=a>50&&a<101?"2 Bartenders":a>100?"3 Bartenders":"1 Bartender",e(".book-process ul #bartender-main").html('<li><label>No. of Bartenders : </label><input type="text" name="bartenders" value="'+s+'" disabled></li>')):e(".book-process ul #bartender-main").html("")}}})},bookingStep6:function(t,a,s){var r=this;e.ajax({url:"/book-step6",dataType:"json",type:"POST",data:{sbt:t,sbtQ:a,status:s},beforeSend:function(){e(".booking-sec .container").addClass("legacy-main")},success:function(t){1===t.status&&("add"===t.action?(e(".t_price").val(t.btprice),e(".sub-total").html("$"+t.btprice),e(".total").html("Total: <strong>$"+t.btprice+"</strong>"),e(".book-process ul #bottle-main").append('<li class="cart-bottle"><label>Bottles '+r.btc+' : </label><input type="text" name="bottle_name['+t.btid+']" value="'+t.btname+'" disabled><label>Number of Bottles : </label><input type="text" name="bottle_qty['+t.btid+']" value="'+t.btqty+' Bottles" disabled><input type="hidden" name="bottleid['+t.btid+']" value="'+t.btid+'" disabled><input type="hidden" name="bottleid['+t.btid+']" value="'+t.btid+'" disabled><input type="hidden" name="bottles_qty['+t.btid+']" value="'+t.btqty+'" class="bottle_qty" disabled><a href="javascript:void(0);"  data-id="'+t.btid+'" class="remove-bottle">Remove</a></li>'),e(".summary_total_bottle span.sum_bottles").append('<span class="'+t.btid+'">Bottles : '+t.btname+" "+t.btqty+" Bottles </span>"),setTimeout(function(){e(".booking-sec .container").removeClass("legacy-main")},1e3)):(e(".t_price").val(t.btprice),e(".sub-total").html("$"+t.btprice),e(".total").html("Total: <strong>$"+t.btprice+"</strong>"),setTimeout(function(){e(".booking-sec .container").removeClass("legacy-main")},1e3)))}})},bookingStep7:function(t,a,s){var r=this;e.ajax({url:"/book-step7",dataType:"json",type:"POST",async:!1,data:{sad:t,sadQ:a,status:s},beforeSend:function(){e(".booking-sec .container").addClass("legacy-main")},success:function(t){1===t.status&&("add"===t.action?(e(".t_price").val(t.adprice),e(".sub-total").html("$"+t.adprice),e(".total").html("Total: <strong>$"+t.adprice+"</strong>"),e(".book-process ul #addon-main").append('<li class="cart-addon"><label>Add-On '+r.adc+' : </label><input type="text" name="addon_name['+t.adid+']" value="'+t.adname+'" disabled><input type="hidden" name="addonid['+t.adid+']" value="'+t.adid+'" disabled><input type="hidden" name="addons_qty['+t.adid+']" value="'+t.adqty+'" class="addon_qty" disabled><a href="javascript:void(0);"  data-id="'+t.adid+'" class="remove-addon">Remove</a></li>'),e(".summary_total_addon ").append('<span class="'+t.adid+'">'+t.adname+" : "+t.adqty+"</span>"),setTimeout(function(){e(".booking-sec .container").removeClass("legacy-main")},1e3)):(e(".t_price").val(t.adprice),e(".sub-total").html("$"+t.adprice),e(".total").html("Total: <strong>$"+t.adprice+"</strong>"),setTimeout(function(){e(".booking-sec .container").removeClass("legacy-main")},1e3)))}})},payCheckoutLegacy:function(t){if("paycard"===t){var a=e("#cardnumber").val(),s=validBooking(a),r=e("#cardcvc").val(),i=validBooking(r);if(""==e.trim(e("#nameoncard").val())||""==e.trim(e("#cardnumber").val())||""==e.trim(e("#cardcvc").val())||""==e.trim(e("#cardexpirymonth").val())||""==e.trim(e("#cardexpiryyear").val())||0==s||0==i){if(""===e.trim(e("#nameoncard").val())?e("#nameoncard").css("border","1px solid red"):e("#nameoncard").css("border",""),""===e.trim(e("#cardnumber").val()))e("#cardnumber").css("border","1px solid red");else if(""!=e("#cardnumber").val()){if(e("#cardnumber").css("border",""),!0!==s){if(e("#cardnumber").css("border","1px solid red"),""===e.trim(e("#cardcvc").val()))e("#cardcvc").css("border","1px solid red");else if(""!=e("#cardcvc").val()){if(e("#cardcvc").css("border",""),!0!==i)return e("#cardcvc").css("border","1px solid red"),!1;e("#cardcvc").css("border","")}else jQuery("#cardcvc").css("border","");return""===e.trim(e("#cardexpirymonth").val())?e("#cardexpirymonth").css("border","1px solid red"):e("#cardexpirymonth").css("border",""),""===e.trim(e("#cardexpiryyear").val())?e("#cardexpiryyear").css("border","1px solid red"):e("#cardexpiryyear").css("border",""),!1}e("#cardnumber").css("border","")}else jQuery("#cardnumber").css("border","");if(""===e.trim(e("#cardcvc").val()))e("#cardcvc").css("border","1px solid red");else if(""!=e("#cardcvc").val()){if(e("#cardcvc").css("border",""),!0!==i)return e("#cardcvc").css("border","1px solid red"),""===e.trim(e("#cardexpirymonth").val())?e("#cardexpirymonth").css("border","1px solid red"):e("#cardexpirymonth").css("border",""),""===e.trim(e("#cardexpiryyear").val())?e("#cardexpiryyear").css("border","1px solid red"):e("#cardexpiryyear").css("border",""),!1;e("#cardcvc").css("border","")}else jQuery("#cardcvc").css("border","");return""===e.trim(e("#cardexpirymonth").val())?e("#cardexpirymonth").css("border","1px solid red"):e("#cardexpirymonth").css("border",""),""===e.trim(e("#cardexpiryyear").val())?e("#cardexpiryyear").css("border","1px solid red"):e("#cardexpiryyear").css("border",""),!1}jQuery("#nameoncard").css("border",""),jQuery("#cardnumber").css("border",""),jQuery("#cardcvc").css("border",""),jQuery("#cardexpirymonth").css("border",""),jQuery("#cardexpiryyear").css("border","");var o=e("#payment-form");o.data("cc-on-file")||(Stripe.setPublishableKey(o.data("stripe-publishable-key")),Stripe.createToken({number:e(".card-number").val(),cvc:e(".card-cvc").val(),exp_month:e(".card-expiry-month").val(),exp_year:e(".card-expiry-year").val()},function(t,a){if(a.error)"incorrect_number"===a.error.code?e("#cardnumber").css("border","1px solid red"):"invalid_cvc"===a.error.code?e("#cardcvc").css("border","1px solid red"):"invalid_expiry_month"===a.error.code?e("#cardexpirymonth").css("border","1px solid red"):"invalid_expiry_year"===a.error.code?e("#cardexpiryyear").css("border","1px solid red"):(jQuery("#cardnumber").css("border",""),jQuery("#cardcvc").css("border",""),jQuery("#cardexpirymonth").css("border",""),jQuery("#cardexpiryyear").css("border","")),e(".error").removeClass("hide").find(".alert").text(a.error.message);else{var s=a.id;o.find("input[type=text]").empty(),o.append("<input type='hidden' name='stripeToken' value='"+s+"'/>"),o.get(0).submit()}}))}else"paypalpal"===t?document.getElementById("payment-form2").submit():alert("Please select at least one payment option")}}}(jQuery);jQuery(document).ready(function(e){LC.init()});var validateEmail=function(e){var t=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;return $("#email").css("border",""),t.test(e)},validatePhone=function(e){return/^(?!.*([\(\)\-\/]{2,}|\([^\)]+$|^[^\(]+\)|\([^\)]+\(|\s{2,}).*)\+?([\-\s\(\)\/]*\d){10,15}[\s\(\)]*$/.test(e)},validBooking=function(e){return/^[0-9\b]+$/.test(e)};if($("#email1").on("keypress",function(){/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(this.value)?($("#error").hide(),$("#email1").css("border","")):$("#error").show()}),$("#phone1,#phone2,#phone3").on("keypress",function(){var e=$("#phone1").val()+$("#phone2").val()+$("#phone3").val();$("#phone").val(e),/^(?!.*([\(\)\-\/]{2,}|\([^\)]+$|^[^\(]+\)|\([^\)]+\(|\s{2,}).*)\+?([\-\s\(\)\/]*\d){9,15}[\s\(\)]*$/.test($("#phone").val())?($("#phone1,#phone2,#phone3").css("border",""),$("#error1").hide()):$("#error1").show()}),$("#bookingrole").on("change",function(){"Other"===$(this).val()?$("#other").show():$("#other").hide()}),$("#eventtype").on("change",function(){"Other"===$(this).val()?$("#eventother").show():$("#eventother").hide()}),$(".paymethods").on("click",function(){var e=$(this).val();"paylater"===e?$(".pay-main").hide():$(".pay-main").show(),""!=e&&$.ajax({url:"/fatch-method",dataType:"json",type:"POST",async:!1,data:{paymethod:e},success:function(e){e.status}})}),$(document).on("focusout","#event_no_guest",function(){var e=$(this).val();""!=e&&e.match(/^\d+$/)?(e>=1?($("#event_no_adult").val(e),$(".l1 .location-guests").val(e),$("#event_no_child").val("0")):($("#event_no_adult").val(""),$(".l1 .location-guests").val(""),$("#event_no_child").val("")),e>120?$("#lcerror1").html("Maximum 120 guests are allowed in the yacht."):$("#lcerror1").html("")):($("#event_no_adult").val(""),$(".l1 .location-guests").val(""),$("#event_no_child").val(""))}),$(document).on("focusout","#event_no_adult",function(){var e=$(this).val(),t=$("#event_no_guest").val();""!=t&&t.match(/^\d+$/)||""!=e&&e.match(/^\d+$/)?t>1&&e>2?$("#event_no_child").val(t-e):$("#event_no_child").val("0"):$("#event_no_child").val("")}),$(document).on("focusout","#event_no_child",function(){var e=$(this).val(),t=$("#event_no_guest").val();""!=t&&t.match(/^\d+$/)||""!=e&&e.match(/^\d+$/)?t>1&&e>2?$("#event_no_adult").val(t-e):$("#event_no_adult").val("0"):$("#event_no_adult").val("")}),$(document).on("focusout",".buffet-guests",function(){var e=$(this).val(),t=$(this),a=$("#event_no_guest").val(),s=0;if(""!=e&&e.match(/^\d+$/))if($("#step6 .added-buffet").length){if($("#step6 .buffet_qty").each(function(){s+=parseInt($(this).val())}),(s=parseInt(s)+parseInt(e))>a)return $(t).css("border","1px solid red"),$(t).parent().parent().find(".bf-error").html("The number of guests exceeds the total number of guests for the event."),$(t).parent().parent().find(".input-col1 a").addClass("legacy-disable"),!1;$(t).css("border","1px solid #d0d0d0"),$(t).parent().parent().find(".bf-error").html(""),$(t).parent().parent().find(".input-col1 a").removeClass("legacy-disable")}else{if(Number(e)>Number(a))return $(t).css("border","1px solid red"),$(t).parent().parent().find(".bf-error").html("The number of guests exceeds the total number of guests for the event."),$(t).parent().parent().find(".input-col1 a").addClass("legacy-disable"),!1;$(t).css("border","1px solid #d0d0d0"),$(t).parent().parent().find(".bf-error").html(""),$(t).parent().parent().find(".input-col1 a").removeClass("legacy-disable")}}),$(document).on("focusout",".bar-guests",function(){var e=$(this).val(),t=$(this),a=$("#event_no_guest").val(),s=0;if(""!=e&&e.match(/^\d+$/))if($("#step7 .added-bar").length){if($("#step7 .bar_qty").each(function(){s+=parseInt($(this).val())}),(s=parseInt(s)+parseInt(e))>a)return $(t).css("border","1px solid red"),$(t).parent().parent().find(".br-error").html("The number of guests exceeds the total number of guests for the event."),$(t).parent().parent().find(".input-col1 a").addClass("legacy-disable"),!1;$(t).css("border","1px solid #d0d0d0"),$(t).parent().parent().find(".br-error").html(""),$(t).parent().parent().find(".input-col1 a").removeClass("legacy-disable")}else{if(Number(e)>Number(a))return $(t).css("border","1px solid red"),$(t).parent().parent().find(".br-error").html("The number of guests exceeds the total number of guests for the event."),$(t).parent().parent().find(".input-col1 a").addClass("legacy-disable"),!1;$(t).css("border","1px solid #d0d0d0"),$(t).parent().parent().find(".br-error").html(""),$(t).parent().parent().find(".input-col1 a").removeClass("legacy-disable")}}),$(document).on("focusout",".location-guests",function(){var e=$(this).val(),t=$(this),a=$("#event_no_guest").val(),s=0;if(""!=e&&e.match(/^\d+$/))if($("#step5 .added-locations").length){if($("#step5 .location_qty").each(function(){s+=parseInt($(this).val())}),(s=parseInt(s)+parseInt(e))>a)return $(t).css("border","1px solid red"),$(t).parent().parent().find(".loc-error").html("The number of guests boarding exceeds the total number of guests for the event."),$(t).parent().parent().find(".input-col1 a").addClass("legacy-disable"),!1;$(t).css("border","1px solid #d0d0d0"),$(t).parent().parent().find(".loc-error").html(""),$(t).parent().parent().find(".input-col1 a").removeClass("legacy-disable")}else{if(Number(e)>Number(a))return $(t).css("border","1px solid red"),$(t).parent().parent().find(".loc-error").html("The number of guests boarding exceeds the total number of guests for the event."),$(t).parent().parent().find(".input-col1 a").addClass("legacy-disable"),!1;$(t).css("border","1px solid #d0d0d0"),$(t).parent().parent().find(".loc-error").html(""),$(t).parent().parent().find(".input-col1 a").removeClass("legacy-disable")}}),$(".dockings select").each(function(e){$(this).data("stored-value",$(this).val())}),$(".dockings select").change(function(){var e=$(this).val(),t=$(this).data("stored-value");$(this).data("stored-value",e);var a=$(".dockings select").not(this);a.find("option[value="+t+"]").removeAttr("disabled"),a.find("option[value="+e+"]").attr("disabled","disabled")}),$("#step5 .location").length){var locations="";$(".l2 .location").val(2),$(".l3 .location").val(3),$(".l2 .location").find("option[value=1]").attr("disabled","disabled"),$(".l3 .location").find("option[value=1]").attr("disabled","disabled")}